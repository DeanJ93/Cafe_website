{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">{% if cafe %}Edit Cafe{% else %}Add New Cafe{% endif %}</h1>
    
    <form method="POST" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="name" class="form-label">Cafe Name</label>
            <input type="text" class="form-control" id="name" name="name" required 
                   value="{{ cafe.name if cafe else '' }}">
        </div>

        <div class="mb-3">
            <label for="map_url" class="form-label">Map URL</label>
            <input type="url" class="form-control" id="map_url" name="map_url" required 
                   value="{{ cafe.map_url if cafe else '' }}">
        </div>

        <div class="mb-3">
            <label for="img_url" class="form-label">Image URL</label>
            <input type="url" class="form-control" id="img_url" name="img_url" required 
                   value="{{ cafe.img_url if cafe else '' }}">
        </div>

        <div class="mb-3">
            <label for="location" class="form-label">Location</label>
            <input type="text" class="form-control" id="location" name="location" required 
                   value="{{ cafe.location if cafe else '' }}">
        </div>

        <div class="row mb-3">
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="has_sockets" name="has_sockets" 
                           {% if cafe and cafe.has_sockets %}checked{% endif %}>
                    <label class="form-check-label" for="has_sockets">Has Power Sockets</label>
                </div>
            </div>
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="has_toilet" name="has_toilet"
                           {% if cafe and cafe.has_toilet %}checked{% endif %}>
                    <label class="form-check-label" for="has_toilet">Has Toilet</label>
                </div>
            </div>
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="has_wifi" name="has_wifi"
                           {% if cafe and cafe.has_wifi %}checked{% endif %}>
                    <label class="form-check-label" for="has_wifi">Has WiFi</label>
                </div>
            </div>
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="can_take_calls" name="can_take_calls"
                           {% if cafe and cafe.can_take_calls %}checked{% endif %}>
                    <label class="form-check-label" for="can_take_calls">Can Take Calls</label>
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="seats" class="form-label">Number of Seats</label>
            <input type="text" class="form-control" id="seats" name="seats" required 
                   value="{{ cafe.seats if cafe else '' }}">
        </div>

        <div class="mb-3">
            <label for="coffee_price" class="form-label">Coffee Price</label>
            <input type="text" class="form-control" id="coffee_price" name="coffee_price" required 
                   value="{{ cafe.coffee_price if cafe else '' }}">
        </div>

        <button type="submit" class="btn btn-primary">
            {% if cafe %}Update Cafe{% else %}Add Cafe{% endif %}
        </button>
        
        {% if cafe %}
        <a href="{{ url_for('delete_cafe', cafe_id=cafe.id) }}" 
           class="btn btn-danger" 
           onclick="return confirm('Are you sure you want to delete this cafe?')">
            Delete Cafe
        </a>
        {% endif %}
    </form>
</div>
{% endblock %}